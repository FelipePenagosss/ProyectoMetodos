{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"src/app/services/disciplina.service\";\nclass CrearCompetidorComponent {\n  constructor(fb, router, toastr, disciplinaService, aRouter) {\n    this.fb = fb;\n    this.router = router;\n    this.toastr = toastr;\n    this.disciplinaService = disciplinaService;\n    this.aRouter = aRouter;\n    this.titulo = 'Crear producto';\n    this.disciplineForm = this.fb.group({\n      id: ['', Validators.required],\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      group: ['', Validators.required]\n    });\n    this.id = this.aRouter.snapshot.paramMap.get('id');\n  }\n  ngOnInit() {\n    this.esEditar();\n  }\n  agregarProducto() {\n    const disciplina = {\n      id: this.disciplineForm.get('id')?.value,\n      name: this.disciplineForm.get('name')?.value,\n      description: this.disciplineForm.get('description')?.value,\n      group: this.disciplineForm.get('group')?.value,\n      competitors: []\n    };\n    if (this.id !== null) {\n      // Modo de edición\n      this.actualizarDisciplina(disciplina);\n    } else {\n      // Modo de creación\n      this.guardarDisciplina(disciplina);\n    }\n  }\n  guardarDisciplina(disciplina) {\n    this.disciplinaService.saveDiscipline(disciplina).subscribe(data => {\n      this.toastr.success('El producto fue registrado con éxito!', 'Producto Registrado!');\n      this.router.navigate(['/mostrarDiscipline']);\n    }, error => {\n      console.log(error);\n      this.disciplineForm.reset();\n    });\n  }\n  actualizarDisciplina(disciplina) {\n    this.disciplinaService.update(this.id, disciplina).subscribe(response => {\n      console.log(response);\n      this.toastr.success('La disciplina fue actualizada con éxito!', 'Disciplina Actualizada');\n      this.router.navigate(['/mostrarDiscipline']);\n    }, error => {\n      console.log(error);\n      this.disciplineForm.reset();\n    });\n  }\n  esEditar() {\n    if (this.id !== null) {\n      this.titulo = 'Editar disciplina';\n      this.disciplinaService.getDisciplineById(this.id).subscribe(response => {\n        console.log(response);\n        const data = response.data;\n        console.log(data);\n        this.disciplineForm.setValue({\n          id: data.id,\n          name: data.name,\n          description: data.description,\n          group: data.group\n        });\n        this.disciplineForm.get('id')?.disable();\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n  static #_ = this.ɵfac = function CrearCompetidorComponent_Factory(t) {\n    return new (t || CrearCompetidorComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.DisciplinaService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CrearCompetidorComponent,\n    selectors: [[\"app-crear-competidor\"]],\n    decls: 2,\n    vars: 0,\n    template: function CrearCompetidorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"crear-competidor works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { CrearCompetidorComponent };","map":{"version":3,"names":["Validators","CrearCompetidorComponent","constructor","fb","router","toastr","disciplinaService","aRouter","titulo","disciplineForm","group","id","required","name","description","snapshot","paramMap","get","ngOnInit","esEditar","agregarProducto","disciplina","value","competitors","actualizarDisciplina","guardarDisciplina","saveDiscipline","subscribe","data","success","navigate","error","console","log","reset","update","response","getDisciplineById","setValue","disable","_","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","i3","ToastrService","i4","DisciplinaService","ActivatedRoute","_2","selectors","decls","vars","template","CrearCompetidorComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\nenit\\Documents\\universidad\\Sem5\\Electiva2\\Angular\\proyectoF\\src\\app\\components\\crear-competidor\\crear-competidor.component.ts","C:\\Users\\nenit\\Documents\\universidad\\Sem5\\Electiva2\\Angular\\proyectoF\\src\\app\\components\\crear-competidor\\crear-competidor.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { Competi } from 'src/app/models/Disciplina';\nimport { DisciplinaService } from 'src/app/services/disciplina.service';\n\n@Component({\n  selector: 'app-crear-competidor',\n  templateUrl: './crear-competidor.component.html',\n  styleUrls: ['./crear-competidor.component.css']\n})\nexport class CrearCompetidorComponent {\n  disciplineForm: FormGroup;\n  titulo = 'Crear producto';\n  id: string | null;\n  constructor(private fb: FormBuilder,\n              private router: Router,\n              private toastr: ToastrService,\n              private disciplinaService:DisciplinaService,\n              private aRouter: ActivatedRoute) { \n    this.disciplineForm = this.fb.group({\n      id:['',Validators.required],\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      group: ['', Validators.required],\n    })\n    this.id = this.aRouter.snapshot.paramMap.get('id');\n  }\n\n  ngOnInit(): void {\n    this.esEditar();\n  }\n  agregarProducto() {\n    const disciplina: Disciplina = {\n      id: this.disciplineForm.get('id')?.value,\n      name: this.disciplineForm.get('name')?.value,\n      description: this.disciplineForm.get('description')?.value,\n      group: this.disciplineForm.get('group')?.value,\n      competitors: []\n    };\n  \n    if (this.id !== null) {\n      // Modo de edición\n      this.actualizarDisciplina(disciplina);\n    } else {\n      // Modo de creación\n      this.guardarDisciplina(disciplina);\n    }\n  }\n  guardarDisciplina(disciplina: Disciplina) {\n    this.disciplinaService.saveDiscipline(disciplina).subscribe(\n      data => {\n        this.toastr.success('El producto fue registrado con éxito!', 'Producto Registrado!');\n        this.router.navigate(['/mostrarDiscipline']);\n      },\n      error => {\n        console.log(error);\n        this.disciplineForm.reset();\n      }\n    );\n  }\n  private actualizarDisciplina(disciplina: Disciplina) {\n    this.disciplinaService.update(this.id!, disciplina).subscribe(\n      response => {\n        console.log(response);\n        this.toastr.success('La disciplina fue actualizada con éxito!', 'Disciplina Actualizada');\n        this.router.navigate(['/mostrarDiscipline']);\n      },\n      error => {\n        console.log(error);\n        this.disciplineForm.reset();\n      }\n    );\n  }\n  esEditar() {\n    if (this.id !== null) {\n      this.titulo = 'Editar disciplina';\n      \n      this.disciplinaService.getDisciplineById(this.id).subscribe(\n        response => {\n          console.log(response);\n          const data = response.data;\n          console.log(data)\n          this.disciplineForm.setValue({\n            id:data.id,\n            name: data.name,\n            description: data.description,\n            group: data.group,\n          });\n          this.disciplineForm.get('id')?.disable();\n        },\n        error => {\n          console.log(error);\n        });\n    }\n  }\n\n}\n","<p>crear-competidor works!</p>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}