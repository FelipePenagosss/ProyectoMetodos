{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet CreardisciplinaComponent = class CreardisciplinaComponent {\n  constructor(fb, router, toastr, _productoService, aRouter) {\n    this.fb = fb;\n    this.router = router;\n    this.toastr = toastr;\n    this._productoService = _productoService;\n    this.aRouter = aRouter;\n    this.titulo = 'Crear producto';\n    this.productoForm = this.fb.group({\n      producto: ['', Validators.required],\n      categoria: ['', Validators.required],\n      ubicacion: ['', Validators.required],\n      precio: ['', Validators.required]\n    });\n    this.id = this.aRouter.snapshot.paramMap.get('id');\n  }\n  ngOnInit() {\n    this.esEditar();\n  }\n  agregarProducto() {\n    const PRODUCTO = {\n      nombre: this.productoForm.get('producto')?.value,\n      categoria: this.productoForm.get('categoria')?.value,\n      ubicacion: this.productoForm.get('ubicacion')?.value,\n      precio: this.productoForm.get('precio')?.value\n    };\n    console.log(PRODUCTO);\n    this._productoService.guardarProducto(PRODUCTO).subscribe(data => {\n      this.toastr.success('El producto fue registrado con exito!', 'Producto Registrado!');\n      this.router.navigate(['/']);\n    }, error => {\n      console.log(error);\n      this.productoForm.reset();\n    });\n  }\n  esEditar() {\n    if (this.id !== null) {\n      this.titulo = 'Editar producto';\n      this._productoService.obtenerProducto(this.id).subscribe(data => {\n        this.productoForm.setValue({\n          producto: data.nombre,\n          categoria: data.categoria,\n          ubicacion: data.ubicacion,\n          precio: data.precio\n        });\n      });\n    }\n  }\n};\nCreardisciplinaComponent = __decorate([Component({\n  selector: 'app-creardisciplina',\n  templateUrl: './creardisciplina.component.html',\n  styleUrls: ['./creardisciplina.component.css']\n})], CreardisciplinaComponent);\nexport { CreardisciplinaComponent };","map":{"version":3,"names":["Component","Validators","CreardisciplinaComponent","constructor","fb","router","toastr","_productoService","aRouter","titulo","productoForm","group","producto","required","categoria","ubicacion","precio","id","snapshot","paramMap","get","ngOnInit","esEditar","agregarProducto","PRODUCTO","nombre","value","console","log","guardarProducto","subscribe","data","success","navigate","error","reset","obtenerProducto","setValue","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\nenit\\Documents\\universidad\\Sem5\\Electiva2\\Angular\\proyectoF\\src\\app\\components\\creardisciplina\\creardisciplina.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { Discipline } from 'src/app/models/producto';\nimport { ProductoService } from 'src/app/services/producto.service';\n\n@Component({\n  selector: 'app-creardisciplina',\n  templateUrl: './creardisciplina.component.html',\n  styleUrls: ['./creardisciplina.component.css']\n})\nexport class CreardisciplinaComponent {\n  productoForm: FormGroup;\n  titulo = 'Crear producto';\n  id: string | null;\n  constructor(private fb: FormBuilder,\n              private router: Router,\n              private toastr: ToastrService,\n              private _productoService: ProductoService,\n              private aRouter: ActivatedRoute) { \n    this.productoForm = this.fb.group({\n      producto: ['', Validators.required],\n      categoria: ['', Validators.required],\n      ubicacion: ['', Validators.required],\n      precio: ['', Validators.required],\n    })\n    this.id = this.aRouter.snapshot.paramMap.get('id');\n  }\n\n  ngOnInit(): void {\n    this.esEditar();\n  }\n\n  agregarProducto() {\n\n    const PRODUCTO: Producto = {\n      nombre: this.productoForm.get('producto')?.value,\n      categoria: this.productoForm.get('categoria')?.value,\n      ubicacion: this.productoForm.get('ubicacion')?.value,\n      precio: this.productoForm.get('precio')?.value,\n    }\n\n    console.log(PRODUCTO);\n    this._productoService.guardarProducto(PRODUCTO).subscribe(data => {\n      this.toastr.success('El producto fue registrado con exito!', 'Producto Registrado!');\n      this.router.navigate(['/']);\n    }, error => {\n      console.log(error);\n      this.productoForm.reset();\n    })\n\n  \n  }\n\n  esEditar() {\n\n    if(this.id !== null) {\n      this.titulo = 'Editar producto';\n      this._productoService.obtenerProducto(this.id).subscribe(data => {\n        this.productoForm.setValue({\n          producto: data.nombre,\n          categoria: data.categoria,\n          ubicacion: data.ubicacion,\n          precio: data.precio,\n        })\n      })\n    }\n  }\n\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}